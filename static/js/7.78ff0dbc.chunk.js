(this.webpackJsonpsamurai=this.webpackJsonpsamurai||[]).push([[7],{239:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(66);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return t}}(e,n)||Object(r.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},241:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var r=t(68),a=t(239),o=t(0),i=t(242),s=t.n(i),u=t(65),c=t.n(u),l=t(50),f=t(3),p=function(e){for(var n=e.totalItemsCount,t=e.pageSize,i=e.currentPage,u=e.onPageChanged,p=e.portionSize,d=Math.ceil(n/t),g=[],b=1;b<=d;b++)g.push(b);var h=d/p,j=Object(o.useState)(1),v=Object(a.a)(j,2),m=v[0],O=v[1],_=(m-1)*p+1,P=m*p;return Object(f.jsxs)("div",{className:s.a.pagination,children:[Object(f.jsxs)("div",{className:s.a.buttonContainer,children:[Object(f.jsx)(l.a,{disabled:m<=1,className:s.a.button,onClick:function(){return O(m-1)},children:"Prev list"}),Object(f.jsx)(l.a,{disabled:i<=1,className:s.a.button,onClick:function(){return u(i-1)},children:"Prev"}),Object(f.jsx)(l.a,{disabled:i>=d,className:s.a.button,onClick:function(){return u(i+1)},children:"Next"}),Object(f.jsx)(l.a,{disabled:h<=m,className:s.a.button,onClick:function(){return O(m+1)},children:"Next list"})]}),Object(f.jsxs)("div",{className:s.a.text,children:["Current page: ",Object(f.jsx)("p",{className:s.a.currentNumber,children:i})]}),Object(f.jsx)("div",{children:g.filter((function(e){return e>=_&&e<=P})).map((function(e){return Object(f.jsx)("span",{onClick:function(){u(e)},className:c()(s.a.page,Object(r.a)({},s.a.selectPage,i===e)),children:e},e)}))})]})}},242:function(e,n,t){e.exports={pagination:"Pagination_pagination__1LQcG",text:"Pagination_text__1_Jfl",currentNumber:"Pagination_currentNumber__3E8Hq",selectPage:"Pagination_selectPage__1Df0I",page:"Pagination_page__nej4-",button:"Pagination_button__3lBVk",buttonContainer:"Pagination_buttonContainer__19oL2"}},243:function(e,n,t){e.exports={absolutePreloaderContainer:"Preloader_absolutePreloaderContainer__2dPGT"}},249:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r="NOT_FOUND";var a=function(e,n){return e===n};function o(e,n){var t="object"===typeof n?n:{equalityCheck:n},o=t.equalityCheck,i=void 0===o?a:o,s=t.maxSize,u=void 0===s?1:s,c=t.resultEqualityCheck,l=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e(n[a],t[a]))return!1;return!0}}(i),f=1===u?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:r},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(l):function(e,n){var t=[];function a(e){var a=t.findIndex((function(t){return n(e,t.key)}));if(a>-1){var o=t[a];return a>0&&(t.splice(a,1),t.unshift(o)),o.value}return r}return{get:a,put:function(n,o){a(n)===r&&(t.unshift({key:n,value:o}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(u,l);function p(){var n=f.get(arguments);if(n===r){if(n=e.apply(null,arguments),c){var t=f.getEntries(),a=t.find((function(e){return c(e.value,n)}));a&&(n=a.value)}f.put(arguments,n)}return n}return p.clearCache=function(){return f.clear()},p}function i(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}function s(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o,s=0,u={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(u=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=u,f=l.memoizeOptions,p=void 0===f?t:f,d=Array.isArray(p)?p:[p],g=i(r),b=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],n=g.length,t=0;t<n;t++)e.push(g[t].apply(null,arguments));return o=b.apply(null,e)}));return Object.assign(h,{resultFunc:c,memoizedResultFunc:b,dependencies:g,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),h};return a}var u=s(o)},311:function(e,n,t){e.exports={wrapper:"Users_wrapper__2GhcH",container:"Users_container__2JZIi"}},312:function(e,n,t){e.exports={container:"User_container__JBivt",userContainer:"User_userContainer__1ZkIj",avatar:"User_avatar__NLWZ-",name:"User_name__mnZJh",status:"User_status__5M2FG",button:"User_button__2hMwR"}},326:function(e,n,t){"use strict";t.r(n);var r=t(35),a=t(36),o=t(38),i=t(37),s=t(0),u=t.n(s),c=t(24),l=t(83),f=t(311),p=t.n(f),d=t(241),g=t(312),b=t.n(g),h=t(62),j=t(15),v=t(50),m=t(3),O=function(e){var n=e.user,t=e.follow,r=e.unFollow,a=e.followingInProgress,o=e.isOwner;return Object(m.jsx)("div",{className:b.a.container,children:Object(m.jsxs)("div",{className:b.a.userContainer,children:[Object(m.jsx)("div",{children:Object(m.jsx)(j.b,{to:"/profile/"+n.id,children:Object(m.jsx)("img",{className:b.a.avatar,src:null!=n.photos.small?n.photos.small:h.a,alt:"User avatar"})})}),o&&Object(m.jsx)("div",{children:n.followed?Object(m.jsx)(v.a,{disabled:a.some((function(e){return e===n.id})),className:b.a.button,onClick:function(){r(n.id)},children:"Unfollow"}):Object(m.jsx)(v.a,{disabled:a.some((function(e){return e===n.id})),className:b.a.button,onClick:function(){t(n.id)},children:"Follow"})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:b.a.name,children:n.name}),Object(m.jsx)("div",{className:b.a.status,children:n.status})]})})]})})},_=function(e){for(var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,a=e.onPageChanged,o=e.users,i=e.follow,s=e.unFollow,u=e.followingInProgress,c=e.isOwner,l=Math.ceil(n/t),f=[],g=1;g<=l;g++)f.push(g);return Object(m.jsxs)("div",{className:p.a.wrapper,children:[Object(m.jsx)(d.a,{totalItemsCount:n,currentPage:r,onPageChanged:a,pageSize:t,portionSize:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?5:15}),Object(m.jsx)("div",{className:p.a.container,children:o.map((function(e){return Object(m.jsx)(O,{user:e,follow:i,unFollow:s,followingInProgress:u,isOwner:c},e.id)}))})]})},P=t(67),w=t(243),y=t.n(w),x=t(26),C=t(249),N=Object(C.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return e}))})),k=function(e){return e.usersPage.pageSize},S=function(e){return e.usersPage.totalUsersCount},U=function(e){return e.usersPage.currentPage},I=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingInProgress},F=function(e){Object(o.a)(t,e);var n=Object(i.a)(t);function t(){var e;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).onPageChanged=function(n){var t=e.props,r=t.setCurrentPage,a=t.pageSize;r(n),e.props.getUsers(n,a)},e}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,t=e.pageSize;this.props.getUsers(n,t)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[this.props.isFetching?Object(m.jsx)("div",{className:y.a.absolutePreloaderContainer,children:Object(m.jsx)(P.a,{})}):null,Object(m.jsx)(_,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unFollow:this.props.unFollow,followingInProgress:this.props.followingInProgress,isOwner:this.props.isOwner})]})}}]),t}(u.a.Component);n.default=Object(x.d)(Object(c.b)((function(e){return{users:N(e),pageSize:k(e),totalUsersCount:S(e),currentPage:U(e),isFetching:I(e),followingInProgress:z(e),isOwner:e.auth.userId}}),{setCurrentPage:l.d,getUsers:l.c,follow:l.b,unFollow:l.e}))(F)}}]);
//# sourceMappingURL=7.78ff0dbc.chunk.js.map